<ion-header>
  <ion-toolbar color="medium">
    <ion-title>Calificaciones</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ng-container *ngIf="note">
    <div>
      <ion-item>
        <ion-label position="stacked">Nombre del Estudiante: </ion-label>
        <ion-input [(ngModel)]="note.title"></ion-input>
      </ion-item>

      <ion-item *ngFor="let grade of note.grades; let i = index">
        <ion-label position="stacked">Calificación {{ i + 1 }}</ion-label>
        <ion-input type="number" [(ngModel)]="note.grades[i]"></ion-input>
      </ion-item>

            <!-- Nuevo elemento para mostrar la calificación final -->
            <ion-item>
              <ion-label position="stacked"> <strong>Calificación Final</strong> </ion-label>
              <ion-input type="text" readonly [value]="calculateFinalGrade() + '/100'"></ion-input>
            </ion-item>
            

    </div>


    <ion-grid [fixed]="true">
      <ion-row>
        <ion-col size="6">
          <ion-button expand="block"  color="success" (click)="updateNote()">
            <ion-icon name="save" slot="start"></ion-icon>
            Update
          </ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button expand="block" color="danger" (click)="deleteNote()">
            <ion-icon name="trash" slot="start"></ion-icon>
            Delete
          </ion-button>
        </ion-col>
      </ion-row>
      <!--<ion-row>
        <ion-col size="12">
          <ion-button expand="block" color="warning" (click)="calculateFinalGrade()">
            <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
            Final Grade
          </ion-button>
        </ion-col>
      </ion-row>-->
    </ion-grid>
    
    
  </ng-container>
  <div *ngIf="updateMessage" class="update-message">
    {{ updateMessage }}
  </div>
</ion-content>
